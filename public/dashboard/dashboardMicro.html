<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Micro</title>
    <link rel="shortcut icon" href="../assets/icone_branco.png" type="image/x-icon">
    <link rel="stylesheet" href="../css/Indexdash.css" />
    <link rel="stylesheet" href="../colors.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body class="body">
    <div class="sidebar" id="sidebar">
      <div style="padding-top: 3vh">
        <ul>
          <li id="sandwich-menu">
            <i class="bi bi-list" style="font-size: 3.5rem; color: aliceblue;"></i>
          </li>
          <li>
            <i class="bi bi-house" style="font-size: 3.5rem; color: aliceblue;"></i>
            <span id="dashboardMacro"></span>
          </li>
          <li>
            <i class="bi bi-sliders2" style="font-size: 3.5rem; color: aliceblue;"></i>
            <span id="parametrizacao"></span>
          </li>
          <li>
            <i class="bi bi-people" style="font-size: 3.5rem; color: aliceblue;"></i>
            <span id="gerenciamentoUsuario"></span>
          </li>
          <li>
            <i class="bi bi-exclamation-triangle" style="font-size: 3.5rem; color: aliceblue;"></i>
            <span id="alertas"></span>
          </li>
        </ul>
      </div>
      <div style="padding-bottom: 3vh">
        <ul>
          <li>
            <i class="bi bi-box-arrow-left" style="font-size: 3.5rem; color: aliceblue;"></i>
            <span id="sair"></span>
          </li>
        </ul>
      </div>
    </div>
    <div style="width: calc(100% - 5rem); margin-left: 5rem; background-color: rgb(90, 68, 235);">
      <div class="navbar">
        <div class="logo">
          <img src="../assets/icone_branco.png" alt="">
        </div>
        <span>
          Olá, Nicolas
        </span>
      </div>
      <div class="content">
        <div class="title">
          Maquina 1
        </div>
        <div class="kpis">
          <ul>
            <li>
              <span style="font-size: 2rem;">
                Monitorando
              </span>
            </li>
            <li>
              <i class="bi bi-broadcast-pin" style="color: rgb(97, 128, 52); font-size: 4rem;"></i>
            </li>
          </ul>
          <ul>
            <div>
              <li>
                <span style="font-size: 1rem;">
                  Uso Cpu(%)
                </span>
              </li>
              <li>
                <span style="font-size: 2rem;">
                  Atual
                </span>
              </li>
              <li>
                <span style="font-size: 3rem;">
                  98%
                </span>
              </li>
            </div>
            <div>
              <img src="../assets/meter.svg" style="width: 6rem; aspect-ratio: 1;">
            </div>
          </ul>
          <ul>
            <div>
              <li>
                <span style="font-size: 1rem;">
                  Uso Rede(%)
                </span>
              </li>
              <li>
                <span style="font-size: 2rem;">
                  Atual
                </span>
              </li>
              <li>
                <span style="font-size: 3rem;">
                  62%
                </span>
              </li>
            </div>
            <div>
              <img src="../assets/meter.svg" style="width: 6rem; aspect-ratio: 1;">
            </div>
          </ul>
          <ul>
            <div>
              <li>
                <span style="font-size: 1rem;">
                  Uso Ram(%)
                </span>
              </li>
              <li>
                <span style="font-size: 2rem;">
                  Atual
                </span>
              </li>
              <li>
                <span style="font-size: 3rem;">
                  99%
                </span>
              </li>
            </div>
            <div>
              <img src="../assets/meter.svg" style="width: 6rem; aspect-ratio: 1;">
            </div>
          </ul>
          <ul>
              <div>
              <li>
                <span style="font-size: 1rem;">
                  Uso Disco(%)
                </span>
              </li>
              <li>
                <span style="font-size: 2rem;">
                  Atual
                </span>
              </li>
              <li>
                <span style="font-size: 3rem;">
                  59%
                </span>
              </li>
            </div>
            <div>
              <img src="../assets/meter.svg" style="width: 6rem; aspect-ratio: 1;">
            </div>
          </ul>
        </div>
        <div class="machineContent">
          <section id="charts" class="charts">
          </section>
          <section class="alerts">
            <ul>
              <li>
                <span style="font-size: 2rem;">
                  Alertas
                </span>
              </li>
              <li>
                <i class="bi bi-exclamation-triangle" style="font-size: 6rem;"></i>
              </li>
            </ul>
            <div style="flex-direction: column;">
              <li>
                <span>
                  Aviso Crítico
                </span>
                <span>
                  Cpu da Maquina 1 acima do nivel crítico
                </span>
              </li>
              <li>
                <span>
                  Aviso Atenção
                </span>
                <span>
                  Rede da Maquina 1 acima do nivel Atenção
                </span>
              </li>
              <li>
                <span>
                  Aviso Crítico
                </span>
                <span>
                  Ram da Maquina 1 acima do nivel crítico
                </span>
              </li>
            </div>
          </section>
        </div>
      </div>
    </div>
  </body>
</html>
<script>
  const sidebar = document.getElementById("sidebar");
  const sandwich = document.getElementById("sandwich-menu");
  const dashboardMacro = document.getElementById("dashboardMacro");
  const parametrizacao = document.getElementById("parametrizacao");
  const gerenciamentoUsuario = document.getElementById("gerenciamentoUsuario");
  const alertas = document.getElementById("alertas");
  const sair = document.getElementById("sair");
  
  sandwich.addEventListener("click", () => {
    sidebar.classList.toggle("open-sidebar");
    if (sidebar.classList.contains("open-sidebar")) {
      dashboardMacro.innerHTML = "Dashboard Macro";
      parametrizacao.innerHTML = "Parametrizações";
      gerenciamentoUsuario.innerHTML = "Gerenciar Usúarios";
      alertas.innerHTML = "Alertas";
      sair.innerHTML = "Sair";
    } else {
      dashboardMacro.innerHTML = "";
      parametrizacao.innerHTML = "";
      gerenciamentoUsuario.innerHTML = "";
      sair.innerHTML = "";
      alertas.innerHTML = "";
    }
  });

  const mockedData = [
    {
      label: "Uso da CPU",
      labels: ["19:20","19:21","19:22","19:23","19:24","19:25","19:26","19:27","19:28","19:29","19:30","19:31"],
      data: [61, 14, 3, 98, 81, 15, 67, 4, 14, 95, 70, 98],
    },
    {
      label: "Uso da Rede",
      labels: ["19:20","19:21","19:22","19:23","19:24","19:25","19:26","19:27","19:28","19:29","19:30","19:31"],
      data: [69,66,82,20,2,98,81,46,84,80,45,62],
    },
    {
      label: "Uso da Memória Ram",
      labels: ["19:20", "19:21", "19:22", "19:23", "19:24", "19:25", "19:26", "19:27", "19:28", "19:29", "19:30", "19:31"],
      data: [68,70,44,34,16,94,56,20,62,99,98,99],
    },
    {
      label: "Uso do Disco",
      labels: ["19:20", "19:21", "19:22", "19:23", "19:24", "19:25", "19:26", "19:27", "19:28", "19:29", "19:30", "19:31"],
      data: [96,57,34,10,3,67,82,19,31,16,60,59],
    },
  ];


  for (let i = 0; i < mockedData.length; i++) {
    var divElement = document.createElement("div");
    var canvasElement = document.createElement("canvas");
    var spanElement = document.createElement("span");

    divElement.appendChild(spanElement);
    divElement.appendChild(canvasElement);
    spanElement.setAttribute("id", `label${i}`);
    canvasElement.setAttribute("id", `myChart${i}`);

    spanElement.innerHTML = `${mockedData[i].label}`

    new Chart(canvasElement, {
      type: "line",
      data: {
        labels: mockedData[i].labels,
        datasets: [
          {
            data: mockedData[i].data,
            borderWidth: 1,
            fill: false,
            borderColor: "rgba(15, 15, 15, 0.6)",
            pointBackgroundColor: "blue",
            pointRadius: 5,
            borderWidth: 2,
            tension: 0.5,
          },
        ],
      },
      options: {
        plugins: {
      legend: {
        display: false,
      }
    },
        scales: {
          x: {
            title: {
              display: true,
              text: "Momento de captura",
            },
          },
          y: {
            beginAtZero: true,
            max: 100,
            ticks: {
              stepSize: 10,
            },
            title: {
              display: true,
              text: "% Uso",
            },
          },
        },
      },
    });
    document.getElementById("charts").appendChild(divElement)
  }
</script>
